{% extends 'base.html' %}

{% block content %}
<h2>My To-Do List</h2>
<a href="{% url 'add_todo_item' %}" class="btn btn-primary mb-3">Add New Task</a>
<ul class="list-group">
    {% for todo in todo_items %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
            <input type="checkbox" onclick="location.href='{% url 'toggle_todo_item_completed' todo.id %}';" {% if todo.completed %} checked {% endif %}>
            <span {% if todo.completed %} style="text-decoration: line-through;" {% endif %}>{{ todo.title }}</span>
        </div>
        <span class="text-muted">{{ todo.created_at|date:"Y-m-d H:i" }}</span>
    </li>
    {% empty %}
    <li class="list-group-item">No tasks added yet.</li>
    {% endfor %}
</ul>
{% endblock %}
